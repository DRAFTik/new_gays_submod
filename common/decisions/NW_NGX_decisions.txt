NGX_country_reconstruction = {
	NGX_reconstruction_of_roads = {
		icon = GFX_decision_generic_construction
		
		fire_only_once = yes
		
		days_remove = 90
		
		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
			has_political_power > 29
		}
		custom_cost_text = decision_cost_pp_30_civ_factory_1
		
        available = {
			NOT = {
				has_country_flag = NGX_reconstruction_in_process
			}
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_reconstruction_of_roads"
			set_country_flag = NGX_reconstruction_in_process
			hidden_effect = {
				add_political_power = -30
			}
		}
		
        modifier = {
			civilian_factory_use = 1
        }
		
		remove_effect = {
			clr_country_flag = NGX_reconstruction_in_process
			if = {
				limit = {
					has_idea = NGX_wars_consequences
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences
					add_idea = NGX_wars_consequences_1
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_2
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences_2
					add_idea = NGX_wars_consequences_4
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_3
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences_3
					add_idea = NGX_wars_consequences_5
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_6
				}
				remove_ideas = NGX_wars_consequences_6
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_reconstruction_of_villages = {
		icon = GFX_decision_generic_construction
		
		fire_only_once = yes
		
		days_remove = 90
		
		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
			has_political_power > 29
		}
		custom_cost_text = decision_cost_pp_30_civ_factory_1
		
        available = {
			num_of_civilian_factories_available_for_projects > 0
			NOT = {
				has_country_flag = NGX_reconstruction_in_process
			}
        }
		
        modifier = {
            civilian_factory_use = 1
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_reconstruction_of_villages"
			set_country_flag = NGX_reconstruction_in_process
			hidden_effect = {
				add_political_power = -30
			}
		}
		
		remove_effect = {
			clr_country_flag = NGX_reconstruction_in_process
			if = {
				limit = {
					has_idea = NGX_wars_consequences
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences
					add_idea = NGX_wars_consequences_2
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_1
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences_1
					add_idea = NGX_wars_consequences_4
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_3
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences_3
					add_idea = NGX_wars_consequences_6
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_5
				}
				remove_ideas = NGX_wars_consequences_5
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_help_peasants = {
		icon = GFX_decision_generic_construction
		
		fire_only_once = yes
		
		days_remove = 90
		
		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
			has_political_power > 29
		}
		custom_cost_text = decision_cost_pp_30_civ_factory_1
		
        available = {
			num_of_civilian_factories_available_for_projects > 0
			NOT = {
				has_country_flag = NGX_reconstruction_in_process
			}
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_help_peasants"
			set_country_flag = NGX_reconstruction_in_process
			hidden_effect = {
				add_political_power = -30
			}
		}
		
        modifier = {
            civilian_factory_use = 1
        }
		
		remove_effect = {
			clr_country_flag = NGX_reconstruction_in_process
			if = {
				limit = {
					has_idea = NGX_wars_consequences
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences
					add_idea = NGX_wars_consequences_3
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_1
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences_1
					add_idea = NGX_wars_consequences_5
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_2
				}
				swap_ideas = {
					remove_idea = NGX_wars_consequences_2
					add_idea = NGX_wars_consequences_6
				}
			}
			else_if = {
				limit = {
					has_idea = NGX_wars_consequences_4
				}
				remove_ideas = NGX_wars_consequences_4
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_ask_for_money = {		
		days_re_enable = 180
		
		days_remove = 90
		
        available = {
			country_exists = CHI
			NOT = {
				NGX = {
					OR = {
						is_in_faction_with = JAP
						is_in_faction_with = PRC
					}
				}
			}
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_ask_for_money"
			add_offsite_building = { type = industrial_complex level = 1 }
		}
		
		remove_effect = {
			add_offsite_building = { type = industrial_complex level = -1 }
		}
		
		ai_will_do = {
			factor = 1
		}
	}
}
NGX_hongkui_ice_cream = {
	NGX_ice_cream_production = {
		available = {
			hidden_trigger = {
				always = no
			}
		}
		activation = {
			always = no
		}
		priority = 10
		is_good = yes
		days_mission_timeout = 7
		timeout_effect = {
			hidden_effect = {
				add_to_variable = {
					var = NGX_ice_cream_variable
					value = NGX_ice_cream_production_variable 
				}
				clamp_variable = {
					var = NGX_ice_cream_variable
					max = 10000
				}
				activate_mission = NGX_ice_cream_production
			}
		}
	}
	NGX_sell_ice_cream_internally = {
		days_re_enable = 90
		
		days_remove = 60
		
        available = {
			custom_trigger_tooltip = {
				tooltip = NGX_ice_cream_more_than_150_tt
				check_variable = { NGX_ice_cream_variable > 150 }
			}
        }
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_sell_ice_cream_internally"
			add_to_variable = {
				var = NGX_ice_cream_variable
				value = -150
				tooltip = NGX_take_150_ice_cream_tt
			}
			clamp_variable = {
				var = NGX_ice_cream_variable
				min = 0
			}
			add_offsite_building = { type = industrial_complex level = 1 }
		}
		
		remove_effect = {
			add_offsite_building = { type = industrial_complex level = -1 }
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_sell_ice_cream_to_qinghai = {
		days_re_enable = 45
		
        available = {
			country_exists = XSM
			NOT = {
				has_war_with = XSM
			}
			custom_trigger_tooltip = {
				tooltip = NGX_ice_cream_more_than_50_tt
				check_variable = { NGX_ice_cream_variable > 50 }
			}
        }
		
		visible = {
			has_completed_focus = NGX_sell_ice_cream_to_others
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_sell_ice_cream_to_qinghai"
			add_to_variable = {
				var = NGX_ice_cream_variable
				value = -50
				tooltip = NGX_take_50_ice_cream_tt
			}
			clamp_variable = {
				var = NGX_ice_cream_variable
				min = 0
			}
			add_political_power = 25
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_sell_ice_cream_to_inner_mongolia = {
		days_re_enable = 45
		
        available = {
			1161 = {
				owner = { 
					NOT = {
						has_war_with = NGX
					}
				}
			}
			746 = {
				owner = { 
					NOT = {
						has_war_with = NGX
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = NGX_ice_cream_more_than_50_tt
				check_variable = { NGX_ice_cream_variable > 50 }
			}
        }
		
		visible = {
			has_completed_focus = NGX_sell_ice_cream_to_others
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_sell_ice_cream_to_inner_mongolia"
			add_to_variable = {
				var = NGX_ice_cream_variable
				value = -50
				tooltip = NGX_take_50_ice_cream_tt
			}
			clamp_variable = {
				var = NGX_ice_cream_variable
				min = 0
			}
			add_political_power = 25
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_sell_ice_cream_to_xian = {
		days_re_enable = 45
		
        available = {
			744 = {
				owner = { 
					NOT = {
						has_war_with = NGX
					}
				}
			}
			283 = {
				owner = { 
					NOT = {
						has_war_with = NGX
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = NGX_ice_cream_more_than_50_tt
				check_variable = { NGX_ice_cream_variable > 50 }
			}
        }
		
		visible = {
			has_completed_focus = NGX_sell_ice_cream_to_others
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_sell_ice_cream_to_xian"
			add_to_variable = {
				var = NGX_ice_cream_variable
				value = -50
				tooltip = NGX_take_50_ice_cream_tt
			}
			clamp_variable = {
				var = NGX_ice_cream_variable
				min = 0
			}
			add_political_power = 25
		}
		
		ai_will_do = {
			factor = 1
		}
	}
}
NGX_buy_japanese_weapons_category = {
	NGX_buy_japanese_rifles = {
		days_re_enable = 180
		available = {
			custom_trigger_tooltip = {
				tooltip = NGX_japanese_rifles_not_more_than_3_tt
				check_variable = { NGX_japanese_rifles_variable < 3 }
			}
		}
		cost = 200
		visible = {
			check_variable = { NGX_japanese_rifles_variable < 3 }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_buy_japanese_rifles"
			add_to_variable = {
				var = NGX_japanese_rifles_variable
				value = 1
			}
			clamp_variable = {
				var = NGX_japanese_rifles_variable
				max = 3
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = JAP
			}
		}
		priority = 10
		ai_will_do = {
			factor = 3
		}
	}
	NGX_buy_japanese_artillery = {
		days_re_enable = 180
		available = {
			custom_trigger_tooltip = {
				tooltip = NGX_japanese_artillery_not_more_than_3_tt
				check_variable = { NGX_japanese_artillery_variable < 3 }
			}
		}
		cost = 250
		visible = {
			check_variable = { NGX_japanese_artillery_variable < 3 }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_buy_japanese_artillery"
			add_to_variable = {
				var = NGX_japanese_artillery_variable
				value = 1
			}
			clamp_variable = {
				var = NGX_japanese_artillery_variable
				max = 3
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100
				producer = JAP
			}
		}
		priority = 10
		ai_will_do = {
			factor = 3
		}
	}
	NGX_buy_japanese_equipment = {
		days_re_enable = 180
		available = {
			custom_trigger_tooltip = {
				tooltip = NGX_japanese_equipment_not_more_than_3_tt
				check_variable = { NGX_japanese_equipment_variable < 3 }
			}
		}
		cost = 250
		visible = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_buy_japanese_equipment"
			check_variable = { NGX_japanese_equipment_variable < 3 }
		}
		complete_effect = {
			add_to_variable = {
				var = NGX_japanese_equipment_variable
				value = 1
			}
			clamp_variable = {
				var = NGX_japanese_equipment_variable
				max = 3
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 500
				producer = JAP
			}
		}
		priority = 10
		ai_will_do = {
			factor = 3
		}
	}
}
NGX_creation_of_hui_nation = {
	NGX_finish_creating_hui_nation = {
		fire_only_once = yes
		
		available = {
			custom_trigger_tooltip = {
				tooltip = NGX_hui_nationalism_100_tt		
				check_variable = { NGX_hui_nationalism = 100 }
			}
		}

		priority = 100
			
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_finish_creating_hui_nation"
			country_event = {
				id = ningxia.24
				days = 1
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_invite_yihewani_members = {
		fire_only_once = yes
		
		cost = 25
		
		priority = 50
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_invite_yihewani_members"
			country_event = {
				id = ningxia.25
				days = 1
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	NGX_old_religious_traditions = {
		fire_only_once = yes
		
		days_remove = 50
		
		cost = 50
		
		priority = 25
		
		visible = {
			has_country_flag = NGX_yihewani_invited
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_old_religious_traditions"
		}
		
		remove_effect = {
			add_ideas = NGX_fundamentalism
		}

		ai_will_do = {
			factor = 1
		}
	}
	NGX_islamic_propaganda = {
		days_remove = 20
		
		cost = 50
		
		visible = {
			has_country_flag = NGX_yihewani_invited
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_islamic_propaganda"
		}
		
		remove_effect = {
			add_to_variable = {
				var = NGX_hui_nationalism
				value = 1
				tooltip = NGX_add_1_nationalism_tt
			}
			clamp_variable = {
				var = NGX_hui_nationalism
				max = 100
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	NGX_purge_modernists = {
		days_remove = 60
		
		visible = {
			has_country_flag = NGX_yihewani_invited
		}
		
		custom_cost_trigger = {
			command_power > 14
			has_equipment = {
				infantry_equipment > 199
			}
		}
		custom_cost_text = decision_cost_CP_15_rifles_200
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_purge_modernists"
			hidden_effect = {
				add_command_power = -15
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -200
				}
			}
		}
		
		remove_effect = {
			add_stability = 0.03
			add_political_power = 30
		}

		ai_will_do = {
			factor = 1
		}
	}
	NGX_hui_history_in_schools = {
		fire_only_once = yes
		days_remove = 120
		
		custom_cost_trigger = {
			has_political_power > 149
			num_of_civilian_factories_available_for_projects > 0
		}
		custom_cost_text = decision_cost_pp_150_civ_factory_1
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_hui_history_in_schools"
			hidden_effect = {
				add_political_power = -150
			}
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			add_to_variable = {
				var = NGX_hui_nationalism
				value = 10
				tooltip = NGX_add_10_nationalism_tt
			}
			clamp_variable = {
				var = NGX_hui_nationalism
				max = 100
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	NGX_develop_hui_culture = {
		days_remove = 75
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_develop_hui_culture"
		}
		
		remove_effect = {
			add_to_variable = {
				var = NGX_hui_nationalism
				value = 1
				tooltip = NGX_add_1_nationalism_tt
			}
			clamp_variable = {
				var = NGX_hui_nationalism
				max = 100
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	NGX_support_anti_han_pogroms = {
		fire_only_once = yes
		
		custom_cost_trigger = {
			has_political_power > 9
			has_equipment = {
				infantry_equipment > 199
			}
		}
		custom_cost_text = decision_cost_pp_10_rifles_50
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_develop_hui_culture"
			hidden_effect = {
				add_political_power = -10
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -50
				}
			}
			country_event = {
				id = ningxia.26
				days = 1
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	NGX_steal_lands_from_han = {
		fire_only_once = yes
		
		days_remove = 90
		
		custom_cost_trigger = {
			has_political_power > 99
			command_power > 19
			has_equipment = {
				infantry_equipment > 49
			}
		}
		custom_cost_text = decision_cost_pp_100_cp_20_rifles_50
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_steal_lands_from_han"
		}
		
		remove_effect = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_stability = 0.1
			add_to_variable = {
				var = NGX_hui_nationalism
				value = 5
				tooltip = NGX_add_5_nationalism_tt
			}
			clamp_variable = {
				var = NGX_hui_nationalism
				max = 100
			}
			add_popularity = {
				ideology = var:current_party_ideology_group
				popularity = 0.2
			}
			add_timed_idea = {
				idea = NGX_land_redistribution
				days = 200
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	NGX_nationalist_propaganda_in_state = {
		days_remove = 30
		state_target = yes
		target_array = NGX.owned_controlled_states
		visible = {
			FROM = {
				has_state_flag = NGX_resistance_to_hui_nationalism_flag
			}
		}
		target_trigger = {
			FROM = {
				has_state_flag = NGX_resistance_to_hui_nationalism_flag
			}
		}
		on_map_mode = map_only
		cost = 25
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_nationalist_propaganda_in_state"
		}
		remove_effect = {
			FROM = {
				clr_state_flag = NGX_resistance_to_hui_nationalism_flag
				remove_dynamic_modifier = { modifier = NGX_resistance_to_hui_nationalism }
				if = {
					limit = {
						is_core_of = GAN
					}
					remove_core_of = GAN
				}
				if = {
					limit = {
						is_core_of = PRC
					}
					remove_core_of = PRC
				}
				if = {
					limit = {
						is_core_of = NEA
					}
					remove_core_of = NEA
				}
				if = {
					limit = {
						is_core_of = XSM
					}
					remove_core_of = XSM
				}
			}
			add_to_variable = {
				var = NGX.resisting_states
				value = 1
			}
		}
	}
}
NGX_rise_of_monarchy_category = {
	NGX_monarch_tour = {
		days_remove = 150
		days_re_enable = 720
		
		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
			has_political_power > 74
		}
		custom_cost_text = decision_cost_pp_75_civ_factory_1

		priority = 100
		
		modifier = {
			civilian_factory_use = 1
			monarchy_drift = 0.04
		}
			
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_monarch_tour"
			hidden_effect = {
				add_political_power = -75
			}
		}
		
		remove_effect = {
			if = {
				limit = {
					has_idea = NGX_pugong
				}
				swap_ideas = {
					add_idea = NGX_pugong_1
					remove_idea = NGX_pugong
				}
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_build_school = {
		days_remove = 200
		days_re_enable = 400
		
		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
			has_political_power > 49
		}
		custom_cost_text = decision_cost_pp_50_civ_factory_1

		priority = 100
		
		modifier = {
			civilian_factory_use = 1
		}
			
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_build_school"
			hidden_effect = {
				add_political_power = -50
			}
		}
		
		remove_effect = {
			add_stability = 0.02
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_build_hospital = {
		days_remove = 200
		days_re_enable = 400
		
		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
			has_political_power > 99
		}
		custom_cost_text = decision_cost_pp_100_civ_factory_1

		priority = 100
		
		modifier = {
			civilian_factory_use = 1
		}
		
		available = {
			any_owned_state = {
				free_building_slots = {
					building = hospital
					size > 1
					include_locked = no
				}
			}
		}
			
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_build_hospital"
			hidden_effect = {
				add_political_power = -100
			}
		}
		
		remove_effect = {
			add_stability = 0.01
			add_popularity = {
				ideology = monarchy
				popularity = 0.01
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = hospital
						size > 1
						include_locked = no
					}
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	NGX_fund_art = {
		days_remove = 15
		days_re_enable = 90
		
		cost = 50

		priority = 100
			
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions NGX_fund_art"
		}
		
		remove_effect = {
			add_popularity = {
				ideology = monarchy
				popularity = 0.01
			}
		}
		
		ai_will_do = {
			factor = 1
		}
	}
}